From 30ce1050dd0c3716e809a1bf9ad40e4160864c74 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Tue, 10 Oct 2017 16:40:48 -0400
Subject: [PATCH] Disable Vanilla Chunk GC

Bukkit has its own system for this.

diff --git a/src/main/java/net/minecraft/world/WorldServer.java b/src/main/java/net/minecraft/world/WorldServer.java
index 5904468..65c5128 100644
--- a/src/main/java/net/minecraft/world/WorldServer.java
+++ b/src/main/java/net/minecraft/world/WorldServer.java
@@ -1107,11 +1107,15 @@ public class WorldServer extends World implements IThreadListener {
             chunkproviderserver.saveChunks(all);
             timings.worldSaveChunks.stopTiming(); // Paper
 
+            // Paper - Disable vanilla chunk GC, Bukkit has its own system for this
+            /*
             for (Chunk chunk : chunkproviderserver.getLoadedChunks()) {
                 if (chunk != null && !this.playerChunkMap.contains(chunk.x, chunk.z)) {
                     chunkproviderserver.queueUnload(chunk);
                 }
             }
+            */
+            // Paper end
         }
         timings.worldSave.stopTiming(); // Paper
     }
-- 
2.18.0

